<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
     <script type='text/javascript' src='https://www.x3dom.org/download/1.8.1/x3dom-full.js'> </script> 
     <link rel='stylesheet' type='text/css' href='https://www.x3dom.org/release/x3dom.css'></link> 
    <title>タイトル</title>
  </head>
  <body>
    <h1>フリーレンの杖</h1>
    <p>
      葬送のフリーレンの杖を作りました。好きな魔法のボタンを押して下さい。<br>
      <br>
      視点移動<br>
      左ボタンドラッグ：見回し(Rotate)<br>
      真ん中ボタンドラッグ または Ctrl+左ボタンドラッグ：平行移動(Pan)<br>
      右ボタンドラッグ または ホイール：ズーム(Zoom)<br>
      aキー：オブジェクトを全部見る(Show all)<br>
      uキー：視点の上下を正す(Upright)<br>
      rキー：視点のリセット(Reset)<br>
    </p>
    <div class="buttons group">
        <input type="button" value="ヘッドライト ON" onclick="document.getElementById('navi').setAttribute('headlight','true');"/>
        <input type="button" value="ヘッドライト OFF" onclick="document.getElementById('navi').setAttribute('headlight','false');"/>
        <input type="button" value="デバッグ ON" onclick="document.getElementById('x3d').runtime.debug(true);"/>
        <input type="button" value="デバッグ OFF" onclick="document.getElementById('x3d').runtime.debug(false);"/>
        <BR>
        <input type="button" value="前の視点" onclick="document.getElementById('x3d').runtime.prevView();"/>
        <input type="button" value="次の視点" onclick="document.getElementById('x3d').runtime.nextView();"/>
        <br>
        透視投影：
        <input type="button" value="前から(+Zから)" onclick="document.getElementById('front_view').setAttribute('set_bind','true');"/>
        <input type="button" value="後から(-Zから)" onclick="document.getElementById('back_view').setAttribute('set_bind','true');"/>
        <input type="button" value="上から(+Yから)" onclick="document.getElementById('top_view').setAttribute('set_bind','true');"/>
        <input type="button" value="下から(-Yから)" onclick="document.getElementById('bottom_view').setAttribute('set_bind','true');"/>
        <input type="button" value="右から(+Xから)" onclick="document.getElementById('right_view').setAttribute('set_bind','true');"/>
        <input type="button" value="左から(-Xから)" onclick="document.getElementById('left_view').setAttribute('set_bind','true');"/>
        <br>
        平行投影：
        <input type="button" value="前から(+Zから)" onclick="document.getElementById('ortho_front_view').setAttribute('set_bind','true');"/>
        <input type="button" value="後から(-Zから)" onclick="document.getElementById('ortho_back_view').setAttribute('set_bind','true');"/>
        <input type="button" value="上から(+Yから)" onclick="document.getElementById('ortho_top_view').setAttribute('set_bind','true');"/>
        <input type="button" value="下から(-Yから)" onclick="document.getElementById('ortho_bottom_view').setAttribute('set_bind','true');"/>
        <input type="button" value="右から(+Xから)" onclick="document.getElementById('ortho_right_view').setAttribute('set_bind','true');"/>
        <input type="button" value="左から(-Xから)" onclick="document.getElementById('ortho_left_view').setAttribute('set_bind','true');"/>
        <br>
        新規視点：
        <input type="button" value="空が映える斜め" onclick="document.getElementById('naname_view').setAttribute('set_bind','true');"/>
        <input type="button" value="遠くから" onclick="document.getElementById('far_view').setAttribute('set_bind','true');"/>
        <input type="button" value="狙撃" onclick="document.getElementById('aim_view').setAttribute('set_bind','true');"/>

        <br>
        アニメーション：
        <input type="button" value="花畑を出す魔法" onclick="flower();"/>
        <input type="button" value="ゾルトラーク" onclick="zolt();"/>
    </div>
    <div id="str">Viewpoint</div>
    <x3d id="x3d" style="width:80vw; height:60vw; margin:auto;" showLog="false" showStat="false">
    
      <scene id="scene">
        <!-- ヘッドライトの設定 -->
        <navigationInfo id="navi" headlight="false"></navigationInfo>

        <!-- 太陽光源の設定（複数可） -->
        <!-- direction 光の方向 -->
        <!-- ambientIntensity 環境光の明るさ -->
        <directionalLight direction="-1 -1 -1" color="1 1 1" ambientIntensity="0.2"></directionalLight>

        <!-- 背景の指定 -->
        <background skyColor="0 0.5082 1"></background>

        <!-- 視点の設定（複数可） -->
        <viewpoint id="front_view" description="front" position="0 3 25" orientation="0 1 0 0"></viewpoint>
        <viewpoint id="back_view" description="back" position="0 0 -10" orientation="0 1 0 3.14"></viewpoint>
        <viewpoint id="top_view" description="top" position="0 10 0" orientation="1 0 0 -1.57"></viewpoint>
        <viewpoint id="bottom_view" description="bottom" position="0 -10 0" orientation="1 0 0 1.57"></viewpoint>
        <viewpoint id="right_view" description="right" position="10 0 0" orientation="0 1 0 1.57"></viewpoint>
        <viewpoint id="left_view" description="left" position="-10 0 0" orientation="0 1 0 -1.57"></viewpoint>

        <OrthoViewpoint id="ortho_front_view" description="ortho_front" position="0 0 10" orientation="0 1 0 0" fieldOfView="[-5,-5,5,5]"></OrthoViewpoint>
        <OrthoViewpoint id="ortho_back_view" description="ortho_back" position="0 0 -10" orientation="0 1 0 3.14" fieldOfView="[-5,-5,5,5]"></OrthoViewpoint>
        <OrthoViewpoint id="ortho_top_view" description="ortho_top" position="0 10 0" orientation="1 0 0 -1.57" fieldOfView="[-5,-5,5,5]"></OrthoViewpoint>
        <OrthoViewpoint id="ortho_bottom_view" description="ortho_bottom" position="0 -10 0" orientation="1 0 0 1.57" fieldOfView="[-5,-5,5,5]"></OrthoViewpoint>
        <OrthoViewpoint id="ortho_right_view" description="ortho_right" position="10 0 0" orientation="0 1 0 1.57" fieldOfView="[-5,-5,5,5]"></OrthoViewpoint>
        <OrthoViewpoint id="ortho_left_view" description="ortho_left" position="-10 0 0" orientation="0 1 0 -1.57" fieldOfView="[-5,-5,5,5]"></OrthoViewpoint>
	
        <!-- 新規視点 -->
        <viewpoint id="naname_view" description="name" position="19.4659 -4.482048 27.991327" orientation="0.279343 0.941066 0.190691 0.631793"></viewpoint>
        <viewpoint id="far_view" description="name" position="364.458293 218.811314 280.505767" orientation="-0.649466 0.730885 0.209762 0.783033"></viewpoint>
        <viewpoint id="aim_view" description="name" position="-32.520823 5.531186 12.179215" orientation="-0.001144 -0.999843 -0.017657 1.515473"></viewpoint>

        <!-- 箱 -->
        <!--transform id="ufo" scale="1 1 1" rotation="0 0 1 1.57" translation="0 2 0">
          <shape>
            <box size="2 1 1"></box>
            <appearance>
              <material diffuseColor="0.3 0.3 0.3" specularColor=".5 .5 .5" shiness="0.2" transparency="0"></material>
            </appearance>
          </shape>
        </transform>
        <TimeSensor DEF='TIMER' cycleInterval='6' loop='true'></TimeSensor>
        <PositionInterpolator DEF='PI' key='0 0.5 1' keyValue='3 2 0, 0 -1 0, -3 3 0'></PositionInterpolator>
        <ROUTE fromNode='TIMER' fromField='fraction_changed' toNode='PI' toField='set_fraction'></ROUTE>
        <ROUTE fromNode='PI' fromField='value_changed' toNode='ufo' toField='translation'></ROUTE-->
        


  <!-- 作品全体 -->
  <transform scale="1 1 1" rotation="0 0 1 0" translation="0 0 0">
    <!-- 杖 -->
    <transform id="wand" scale="1 1 1" rotation="0 0 1 0" translation="0 2 0">
      <!-- 持ち手 -->
      <transform scale="1 1 1" rotation="0 0 1 0" translation="0 0 0">
        <shape>
          <Cylinder radius="0.1" height="8" top="true" bottom="true"></Cylinder>
              <appearance>
                <material diffuseColor="1 0 0" specularColor=".5 .5 .5" shiness="0.2" transparency="0"></material>
              </appearance>
        </shape>
        <!-- 下側の先端 -->
        <transform scale="1 1 1" rotation="0 0 1 0" translation="0 -4 0">
          <shape>
            <Cylinder radius="0.12" height="0.8" top="true" bottom="true"></Cylinder>
                <appearance>
                  <material diffuseColor="1 1 0" specularColor=".5 .5 .5" shiness="0.2" transparency="0"></material>
                </appearance>
          </shape>
        </transform>
        <!-- 上とのつなぎ目 -->
        <transform scale="1 1 1" rotation="0 0 1 0" translation="0 4 0">
          <shape>
            <Cylinder radius="0.12" height="0.8" top="true" bottom="true"></Cylinder>
                <appearance>
                  <material diffuseColor="1 1 0" specularColor=".5 .5 .5" shiness="0.2" transparency="0"></material>
                </appearance>
          </shape>
        </transform>
        <!-- 中心部分 -->
        <transform scale="1 1 1" rotation="0 0 1 0" translation="0 6 0">
          <!-- 宝石 -->
          <transform DEF="stone" scale="1 1 1" rotation="1 0 0 1.57" translation="0 0 0">
            <shape>
              <Dish diameter="1.5" height="0.4" bottom="true"></Dish>
              <appearance>
                <material diffuseColor="1 0 0" specularColor=".5 .5 .5" shiness="0.2" transparency="0"></material>
              </appearance>
            </shape>
          </transform>
          <!-- 宝石反対側 -->
          <transform scale="1 1 1" rotation="1 0 0 -3.14" translation="0 0 0">
            <transform USE='stone'></transform>
          </transform>
          <!-- 宝石がはまってるリング -->
          <transform scale="1 1 1" rotation="0 0 1 0" translation="0 0 0">
            <shape>
              <Torus angle='6.2832' caps='true' innerRadius='0.15' insideOutsideRadius='false' outerRadius='0.6'></Torus>
              <appearance>
                <material diffuseColor="1 1 0" specularColor=".5 .5 .5" shiness="0.2" transparency="0"></material>
              </appearance>
            </shape>
          </transform>
          <!-- 3つの支え -->
          <transform DEF="prop" scale="1 1 1" rotation="0 0 1 0" translation="0 1 0">
            <shape>
              <Cylinder radius="0.1" height="0.6" top="true" bottom="true"></Cylinder>
                  <appearance>
                    <material diffuseColor="1 1 0" specularColor=".5 .5 .5" shiness="0.2" transparency="0"></material>
                  </appearance>
            </shape>
          </transform>
          <transform scale="1 1 1" rotation="0 0 1 -1.57" translation="0 0 0">
            <transform USE='prop'></transform>
          </transform>
          <transform scale="1 1 1" rotation="0 0 1 -3.14" translation="0 0 0">
            <transform USE='prop'></transform>
          </transform>
          <!-- 半月状の部分 -->
          <transform scale="1 1 1" rotation="0 0 1 2" translation="0 0 0">
            <shape>
              <Torus angle='4' caps='true' innerRadius='0.2' insideOutsideRadius='false' outerRadius='1.4'></Torus>
              <appearance>
                <material diffuseColor="1 1 0" specularColor=".5 .5 .5" shiness="0.2" transparency="0"></material>
              </appearance>
            </shape>
          </transform>
          <!-- 頂点の突起 -->
          <transform scale="1 1 1" rotation="0 0 1 0" translation="0 1.7 0">
            <shape>
              <Cone bottomRadius="0.2" height="0.5" bottom="true"></Cone>
              <appearance>
                <material diffuseColor="1 1 0" specularColor=".5 .5 .5" shiness="0.2" transparency="0"></material>
              </appearance>
            </shape>
          </transform>
        </transform>
      </transform>
    </transform>

    <!-- 魔法オブジェクト -->
    <transform scale="1 1 1" rotation="0 0 1 0" translation="0 0 0">
      <!-- 花畑 -->
      <transform id="flowerGarden" scale="1 1 1" rotation="0 0 1 0" translation="-8 -8 -8">
        <!-- 花(青) -->
        <transform DEF="blueFlower" scale="1 1 1" rotation="0 0 1 0" translation="0 0 0">
          <!-- 茎 -->
          <transform scale="1 1 1" rotation="0 0 1 0" translation="0 0 0">
            <shape>
              <Cylinder radius="0.05" height="1" top="true" bottom="true"></Cylinder>
              <appearance>
                <material diffuseColor="0 0.1 0" specularColor="0 0 0" shiness="0.2" transparency="0"></material>
              </appearance>
            </shape>
          </transform>
          <!-- 葉 -->
          <transform DEF="leaf" scale="1 1 1" rotation="0 0 1 -1.57" translation="0 0.2 0">
            <shape>
              <ArcClose2D closureType='"PIE"' radius='0.7' ></ArcClose2D>
              <appearance>
                <material diffuseColor="0 0.1 0" specularColor=".5 .5 .5" shiness="0.2" transparency="0"></material>
              </appearance>
            </shape>
          </transform>
          <transform scale="1 1 1" rotation="0 1 0 3.28" translation="0 0 0">
            <transform USE="leaf"></transform>
          </transform>
          <transform DEF="leaf2" scale="1 1 1" rotation="0 0 1 -1.57" translation="-0.2 0.2 0">
            <transform USE="leaf"></transform>
          </transform>
          <transform scale="1 1 1" rotation="0 1 0 3.28" translation="0 0 0">
            <transform USE="leaf2"></transform>
          </transform>
          <!-- めしべ -->
          <transform scale="1 1 1" rotation="0 0 1 0" translation="0 0.5 0">
            <shape>
              <Cylinder radius="0.07" height="0.05" top="true" bottom="true"></Cylinder>
              <appearance>
                <material diffuseColor="1 1 0" specularColor="0 0 0" shiness="0.2" transparency="0"></material>
              </appearance>
            </shape>
            <!-- 花びら -->
            <transform DEF="petal" scale="1 1 1" rotation="0 1 0 0" translation="0 0 0">
              <transform scale="1 1 1" rotation="1 0 0 2" translation="0 0.05 -0.22">
                <transform scale="0.2 0.3 0.01" rotation="0 0 1 0" translation="0 0 0">
                  <shape>
                    <Sphere radius='1'></Sphere>
                    <appearance>
                      <material diffuseColor="0 0.4 0.8" specularColor="0 0 0" shiness="0.2" transparency="0"></material>
                    </appearance>
                  </shape>
                </transform>
              </transform>
            </transform>
            <!-- コピー -->
            <transform scale="1 1 1" rotation="0 1 0 1.25" translation="0 0 0">
              <transform USE="petal"></transform>
            </transform>
            <transform scale="1 1 1" rotation="0 1 0 2.51" translation="0 0 0">
              <transform USE="petal"></transform>
            </transform>
            <transform scale="1 1 1" rotation="0 1 0 3.76" translation="0 0 0">
              <transform USE="petal"></transform>
            </transform>
            <transform scale="1 1 1" rotation="0 1 0 5.02" translation="0 0 0">
              <transform USE="petal"></transform>
            </transform>
          </transform>
        </transform>
        <!-- 花(ピンク) -->
        <transform DEF="pinkFlower" scale="1 1 1" rotation="0 0 1 0" translation="0 0 0">
          <!-- 茎 -->
          <transform scale="1 1 1" rotation="0 0 1 0" translation="0 0 0">
            <shape>
              <Cylinder radius="0.05" height="1" top="true" bottom="true"></Cylinder>
              <appearance>
                <material diffuseColor="0 0.1 0" specularColor="0 0 0" shiness="0.2" transparency="0"></material>
              </appearance>
            </shape>
          </transform>
          <!-- 葉 -->
          <transform DEF="leaf" scale="1 1 1" rotation="0 0 1 -1.57" translation="0 0.2 0">
            <shape>
              <ArcClose2D closureType='"PIE"' radius='0.7' ></ArcClose2D>
              <appearance>
                <material diffuseColor="0 0.1 0" specularColor=".5 .5 .5" shiness="0.2" transparency="0"></material>
              </appearance>
            </shape>
          </transform>
          <transform scale="1 1 1" rotation="0 1 0 3.28" translation="0 0 0">
            <transform USE="leaf"></transform>
          </transform>
          <transform DEF="leaf2" scale="1 1 1" rotation="0 0 1 -1.57" translation="-0.2 0.2 0">
            <transform USE="leaf"></transform>
          </transform>
          <transform scale="1 1 1" rotation="0 1 0 3.28" translation="0 0 0">
            <transform USE="leaf2"></transform>
          </transform>
          <!-- めしべ -->
          <transform scale="1 1 1" rotation="0 0 1 0" translation="0 0.5 0">
            <shape>
              <Cylinder radius="0.07" height="0.05" top="true" bottom="true"></Cylinder>
              <appearance>
                <material diffuseColor="1 1 0" specularColor="0 0 0" shiness="0.2" transparency="0"></material>
              </appearance>
            </shape>
            <!-- 花びら -->
            <transform DEF="petal" scale="1 1 1" rotation="0 1 0 0" translation="0 0 0">
              <transform scale="1 1 1" rotation="1 0 0 2" translation="0 0.05 -0.22">
                <transform scale="0.2 0.3 0.01" rotation="0 0 1 0" translation="0 0 0">
                  <shape>
                    <Sphere radius='1'></Sphere>
                    <appearance>
                      <material diffuseColor="0.8 0 0.3" specularColor="0 0 0" shiness="0.2" transparency="0"></material>
                    </appearance>
                  </shape>
                </transform>
              </transform>
            </transform>
            <!-- コピー -->
            <transform scale="1 1 1" rotation="0 1 0 1.25" translation="0 0 0">
              <transform USE="petal"></transform>
            </transform>
            <transform scale="1 1 1" rotation="0 1 0 2.51" translation="0 0 0">
              <transform USE="petal"></transform>
            </transform>
            <transform scale="1 1 1" rotation="0 1 0 3.76" translation="0 0 0">
              <transform USE="petal"></transform>
            </transform>
            <transform scale="1 1 1" rotation="0 1 0 5.02" translation="0 0 0">
              <transform USE="petal"></transform>
            </transform>
          </transform>
        </transform>
        <!-- 花(黄) -->
        <transform DEF="yellowFlower" scale="1 1 1" rotation="0 0 1 0" translation="0 0 0">
          <!-- 茎 -->
          <transform scale="1 1 1" rotation="0 0 1 0" translation="0 0 0">
            <shape>
              <Cylinder radius="0.05" height="1" top="true" bottom="true"></Cylinder>
              <appearance>
                <material diffuseColor="0 0.1 0" specularColor="0 0 0" shiness="0.2" transparency="0"></material>
              </appearance>
            </shape>
          </transform>
          <!-- 葉 -->
          <transform DEF="leaf" scale="1 1 1" rotation="0 0 1 -1.57" translation="0 0.2 0">
            <shape>
              <ArcClose2D closureType='"PIE"' radius='0.7' ></ArcClose2D>
              <appearance>
                <material diffuseColor="0 0.1 0" specularColor=".5 .5 .5" shiness="0.2" transparency="0"></material>
              </appearance>
            </shape>
          </transform>
          <transform scale="1 1 1" rotation="0 1 0 3.28" translation="0 0 0">
            <transform USE="leaf"></transform>
          </transform>
          <transform DEF="leaf2" scale="1 1 1" rotation="0 0 1 -1.57" translation="-0.2 0.2 0">
            <transform USE="leaf"></transform>
          </transform>
          <transform scale="1 1 1" rotation="0 1 0 3.28" translation="0 0 0">
            <transform USE="leaf2"></transform>
          </transform>
          <!-- めしべ -->
          <transform scale="1 1 1" rotation="0 0 1 0" translation="0 0.5 0">
            <shape>
              <Cylinder radius="0.07" height="0.05" top="true" bottom="true"></Cylinder>
              <appearance>
                <material diffuseColor="1 1 0" specularColor="0 0 0" shiness="0.2" transparency="0"></material>
              </appearance>
            </shape>
            <!-- 花びら -->
            <transform DEF="petal" scale="1 1 1" rotation="0 1 0 0" translation="0 0 0">
              <transform scale="1 1 1" rotation="1 0 0 2" translation="0 0.05 -0.22">
                <transform scale="0.2 0.3 0.01" rotation="0 0 1 0" translation="0 0 0">
                  <shape>
                    <Sphere radius='1'></Sphere>
                    <appearance>
                      <material diffuseColor="0.8 0.8 0" specularColor="0 0 0" shiness="0.2" transparency="0"></material>
                    </appearance>
                  </shape>
                </transform>
              </transform>
            </transform>
            <!-- コピー -->
            <transform scale="1 1 1" rotation="0 1 0 1.25" translation="0 0 0">
              <transform USE="petal"></transform>
            </transform>
            <transform scale="1 1 1" rotation="0 1 0 2.51" translation="0 0 0">
              <transform USE="petal"></transform>
            </transform>
            <transform scale="1 1 1" rotation="0 1 0 3.76" translation="0 0 0">
              <transform USE="petal"></transform>
            </transform>
            <transform scale="1 1 1" rotation="0 1 0 5.02" translation="0 0 0">
              <transform USE="petal"></transform>
            </transform>
          </transform>
        </transform>

        <!-- 青花コピー -->
        <transform scale="1 1 1" rotation="0 0 1 0" translation="5 0 10">
          <transform USE="blueFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="3.5 0 6">
          <transform USE="blueFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="12 0 11.5">
          <transform USE="blueFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="14.5 0 4.5">
          <transform USE="blueFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="9 0 10">
          <transform USE="blueFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="13.5 0 11">
          <transform USE="blueFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="10 0 5.5">
          <transform USE="blueFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="14.5 0 0.5">
          <transform USE="blueFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="3 0 7">
          <transform USE="blueFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="8.5 0 6">
          <transform USE="blueFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="8.5 0 5.5">
          <transform USE="blueFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="4 0 3">
          <transform USE="blueFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="8.5 0 11">
          <transform USE="blueFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="13 0 12">
          <transform USE="blueFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="8.5 0 7">
          <transform USE="blueFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="0 0 15.5">
          <transform USE="blueFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="4.5 0 10.5">
          <transform USE="blueFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="6 0 15">
          <transform USE="blueFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="0.5 0 11">
          <transform USE="blueFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="12 0 14.5">
          <transform USE="blueFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="3.5 0 5.5">
          <transform USE="blueFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="0 0 10">
          <transform USE="blueFlower"></transform>
        </transform>

        <!-- ピンク花コピー -->
        <transform scale="1 1 1" rotation="0 0 1 0" translation="5 0 10">
          <transform USE="pinkFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="16.5 0 2">
          <transform USE="pinkFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="7 0 6.5">
          <transform USE="pinkFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="13.5 0 12.5">
          <transform USE="pinkFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="4 0 5">
          <transform USE="pinkFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="16.5 0 15">
          <transform USE="pinkFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="12 0 12.5">
          <transform USE="pinkFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="2.5 0 11.5">
          <transform USE="pinkFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="4 0 13">
          <transform USE="pinkFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="3.5 0 1">
          <transform USE="pinkFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="4 0 12">
          <transform USE="pinkFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="15.5 0 9">
          <transform USE="pinkFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="8 0 11.5">
          <transform USE="pinkFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="13.5 0 16.5">
          <transform USE="pinkFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="16 0 7">
          <transform USE="pinkFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="7.5 0 5">
          <transform USE="pinkFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="8 0 1.5">
          <transform USE="pinkFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="16.5 0 6.5">
          <transform USE="pinkFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="2 0 15">
          <transform USE="pinkFlower"></transform>
        </transform>
        
        <!-- 黄花コピー -->
        <transform scale="1 1 1" rotation="0 0 1 0" translation="14 0 7">
          <transform USE="yellowFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="5.5 0 3">
          <transform USE="yellowFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="10 0 13.5">
          <transform USE="yellowFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="7.5 0 14.5">
          <transform USE="yellowFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="1 0 15">
          <transform USE="yellowFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="6.5 0 14">
          <transform USE="yellowFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="3 0 9.5">
          <transform USE="yellowFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="9.5 0 16.5">
          <transform USE="yellowFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="14 0 11">
          <transform USE="yellowFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="5.5 0 13">
          <transform USE="yellowFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="9 0 3.5">
          <transform USE="yellowFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="3.5 0 6.5">
          <transform USE="yellowFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="13 0 0">
          <transform USE="yellowFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="12.5 0 12">
          <transform USE="yellowFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="1 0 4.5">
          <transform USE="yellowFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="4.5 0 12.5">
          <transform USE="yellowFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="8 0 13">
          <transform USE="yellowFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="10.5 0 15">
          <transform USE="yellowFlower"></transform>
        </transform>
        <transform scale="1 1 1" rotation="0 0 1 0" translation="9 0 6.5">
          <transform USE="yellowFlower"></transform>
        </transform>


      </transform>

      <!-- ゾルトラーク -->
      <transform scale="1 1 1" rotation="0 0 1 0" translation="10 2 0">
        <!--傾けるためのオブジェクト-->
        <transform scale="1 1 1" rotation="0 0 1 1.57" translation="0 0 0">
          <!-- 大きさを変えるためのオブジェクト -->
          <transform id="zoltraak" scale="0.0005 1 0.0005" rotation="0 0 1 0" translation="0 0 0">
            <!-- 魔法陣 -->
          <transform id="magicCircle" scale="1 0.1 1" rotation="1 0 0 0" translation="0 0 0">
            <!-- 中心 -->
            <transform scale="1 1 1" rotation="0 0 1 0" translation="0 0 0">
              <shape>
                <Cylinder radius="2" height="0.1" top="true" bottom="true"></Cylinder>
                <appearance>
                  <material diffuseColor="1 1 1" specularColor=".9 .9 .9" shiness="0.2" transparency="0"></material>
                </appearance>
              </shape>
              <!-- 目みたいな模様大 -->
              <transform DEF="eye" scale="1.5 2 0.1" rotation="1 0 0 -1.57" translation="0 0 0">
                <!-- 下側 -->
                <transform scale="1 1 1" rotation="1 0 0 0" translation="0 8 0">
                  <transform scale="2 2 1" rotation="0 0 1 -0.78" translation="0 0 0">
                    <shape>
                      <Torus angle='1.57' caps='true' innerRadius='0.1' insideOutsideRadius='false' outerRadius='5.6'></Torus>
                      <appearance>
                        <material diffuseColor="1 1 1" specularColor=".5 .5 .5" shiness="0.2" transparency="0"></material>
                      </appearance>
                    </shape>
                  </transform>
                </transform>
                <!-- 上側 -->
                <transform scale="1 1 1" rotation="0 0 1 3.14" translation="0 -8 0">
                  <transform scale="2 2 1" rotation="0 0 1 -0.78" translation="0 0 0">
                    <shape>
                      <Torus angle='1.57' caps='true' innerRadius='0.1' insideOutsideRadius='false' outerRadius='5.6'></Torus>
                      <appearance>
                        <material diffuseColor="1 1 1" specularColor=".5 .5 .5" shiness="0.2" transparency="0"></material>
                      </appearance>
                    </shape>
                  </transform>
                </transform>
              </transform>
              <!-- 目みたいな模様小 -->
              <transform scale="1 1 1" rotation="0 1 0 0.52" translation="0 0 0">
                <!--1-->
                <transform DEF="smallEye" scale="1 1 1" rotation="0 1 0 0" translation="0 0 0">
                  <transform scale="1 1 1" rotation="0 1 0 0" translation="0 0 7">
                    <transform scale="0.4 1 0.4" rotation="0 1 0 1.57" translation="0 0 0">
                      <transform USE="eye"></transform>
                    </transform>
                  </transform>
                </transform>
                <!-- 眼の中の円1(コピーしてほしくない) -->
                <transform scale="1 1 1" rotation="0 0 1 0" translation="0 0 7">
                  <shape>
                    <Cylinder radius="2" height="0.1" top="true" bottom="true"></Cylinder>
                    <appearance>
                      <material diffuseColor="1 1 1" specularColor=".9 .9 .9" shiness="0.2" transparency="0"></material>
                    </appearance>
                  </shape>
                </transform>
                <!--2~6-->
                <transform scale="1 1 1" rotation="0 1 0 1.04" translation="0 0 0">
                  <transform USE="smallEye"></transform>
                  <transform scale="1 1 1" rotation="0 0 1 0" translation="0 0 6">
                    <transform scale="1 1 0.1" rotation="1 0 0 1.57" translation="0 0 0">
                      <shape>
                        <Torus angle='6.28' caps='true' innerRadius='0.2' insideOutsideRadius='false' outerRadius='1.8'></Torus>
                        <appearance>
                          <material diffuseColor="1 1 1" specularColor=".5 .5 .5" shiness="0.2" transparency="0"></material>
                        </appearance>
                      </shape>
                    </transform>
                  </transform>
                </transform>
                <!--3-->
                <transform scale="1 1 1" rotation="0 1 0 2.09" translation="0 0 0">
                  <transform USE="smallEye"></transform>
                  <transform scale="1 1 1" rotation="0 0 1 0" translation="-0.5 0 7.5">
                    <transform scale="1 1 1" rotation="1 0 0 0" translation="0 0 0">
                      <shape>
                        <Cylinder radius="2" height="0.1" top="true" bottom="true"></Cylinder>
                          <appearance>
                            <material diffuseColor="1 1 1" specularColor=".9 .9 .9" shiness="0.2" transparency="0"></material>
                          </appearance>
                      </shape>
                    </transform>
                  </transform>
                </transform>
  
                <transform scale="1 1 1" rotation="0 1 0 3.14" translation="0 0 0">
                  <transform USE="smallEye"></transform>
                  <transform scale="1 1 1" rotation="0 0 1 0" translation="0.5 0 7.5">
                    <transform scale="1 1 0.1" rotation="1 0 0 1.57" translation="0 0 0">
                      <shape>
                        <Torus angle='6.28' caps='true' innerRadius='0.2' insideOutsideRadius='false' outerRadius='1.8'></Torus>
                        <appearance>
                          <material diffuseColor="1 1 1" specularColor=".5 .5 .5" shiness="0.2" transparency="0"></material>
                        </appearance>
                      </shape>
                    </transform>
                  </transform>
                </transform>
  
                <transform scale="1 1 1" rotation="0 1 0 4.18" translation="0 0 0">
                  <transform USE="smallEye"></transform>
                  <transform scale="1 1 1" rotation="0 0 1 0" translation="-0.5 0 6">
                    <transform scale="1 1 1" rotation="1 0 0 0" translation="0 0 0">
                      <shape>
                        <Cylinder radius="2" height="0.1" top="true" bottom="true"></Cylinder>
                          <appearance>
                            <material diffuseColor="1 1 1" specularColor=".9 .9 .9" shiness="0.2" transparency="0"></material>
                          </appearance>
                      </shape>
                    </transform>
                  </transform>
                </transform>
  
                <transform scale="1 1 1" rotation="0 1 0 5.23" translation="0 0 0">
                  <transform USE="smallEye"></transform>
                  <transform scale="1 1 1" rotation="0 0 1 0" translation="0 0 8">
                    <transform scale="1 1 0.1" rotation="1 0 0 1.57" translation="0 0 0">
                      <shape>
                        <Torus angle='6.28' caps='true' innerRadius='0.2' insideOutsideRadius='false' outerRadius='1.8'></Torus>
                        <appearance>
                          <material diffuseColor="1 1 1" specularColor=".5 .5 .5" shiness="0.2" transparency="0"></material>
                        </appearance>
                      </shape>
                    </transform>
                  </transform>
                </transform>
                
              </transform>
              <!-- 円１ -->
              <transform scale="1 1 1" rotation="0 0 1 0" translation="0 0 0">
                <transform scale="1 1 0.1" rotation="1 0 0 1.57" translation="0 0 0">
                  <shape>
                    <Torus angle='6.28' caps='true' innerRadius='0.2' insideOutsideRadius='false' outerRadius='10'></Torus>
                    <appearance>
                      <material diffuseColor="1 1 1" specularColor=".5 .5 .5" shiness="0.2" transparency="0"></material>
                    </appearance>
                  </shape>
                </transform>
              </transform>
              <!--2-->
              <transform scale="1 1 1" rotation="0 0 1 0" translation="0 0 0">
                <transform scale="1 1 0.1" rotation="1 0 0 1.57" translation="0 0 0">
                  <shape>
                    <Torus angle='6.28' caps='true' innerRadius='0.2' insideOutsideRadius='false' outerRadius='12'></Torus>
                    <appearance>
                      <material diffuseColor="1 1 1" specularColor=".5 .5 .5" shiness="0.2" transparency="0"></material>
                    </appearance>
                  </shape>
                </transform>
              </transform>
              <!--3-->
              <transform scale="1 1 1" rotation="0 0 1 0" translation="0 0 0">
                <transform scale="1 1 0.1" rotation="1 0 0 1.57" translation="0 0 0">
                  <shape>
                    <Torus angle='6.28' caps='true' innerRadius='0.3' insideOutsideRadius='false' outerRadius='14'></Torus>
                    <appearance>
                      <material diffuseColor="1 1 1" specularColor=".5 .5 .5" shiness="0.2" transparency="0"></material>
                    </appearance>
                  </shape>
                </transform>
              </transform>
  
  
            </transform>
            </transform>
          </transform>
          
        </transform>
        
        <!-- ビーム1 -->
        <transform id="beam1" scale="0.0005 1 0.0005" rotation="0 0 1 1.57" translation="502 0 0">
          <shape>
            <Cylinder radius="1" height="1000" top="true" bottom="true"></Cylinder>
            <appearance>
              <material diffuseColor="1 1 1" specularColor=".5 .5 .5" shiness="0.2" transparency="0.4"></material>
            </appearance>
          </shape>
        </transform>

        <!-- ビーム2 -->
        <transform id="beam2" scale="0.0005 1 0.0005" rotation="0 0 1 1.57" translation="502 0 0">
          <shape>
            <Cylinder radius="1" height="1000" top="true" bottom="true"></Cylinder>
            <appearance>
              <material id="beamFlash" diffuseColor="1 1 1" specularColor=".9 .9 .9" shiness="0.2" transparency="0"></material>
            </appearance>
          </shape>
        </transform>

      </transform>

    </transform>

      

    <!-- 地形 -->
	  <transform scale="1 1 1" rotation="0 0 1 0" translation="0 -9 0">
      <!-- 地面 -->
      <transform scale="1 1 1" rotation="0 0 1 0" translation="0 0 0">
        <shape>
          <box size="300 5 300"></box>
          <appearance>
            <material diffuseColor="0.2117 0.8078 0.5098" specularColor=".5 .5 .5" shiness="0.5" transparency="0"></material>
          </appearance>
        </shape>
      </transform>  
    </transform>
  
    <!-- 名前 -->
    <transform scale="1 1 1" translation="0 2 -5">
      <shape>
        <text string='"2024.4.27 21A1080" "Kousei KIGUCHI"'>
          <fontstyle family="TYPEWRITER" size="1" style="BOLD"></fontstyle>
        </text>
        <appearance>
          <material diffuseColor="1 1 1"></material>
        </appearance>
      </shape>
    </transform>




    <!-- 杖アニメーション -->
    <!-- 通常時 -->
    <TimeSensor DEF='TIMER' cycleInterval='10' loop='true'></TimeSensor>
    <OrientationInterpolator DEF='OI' key='0 0.5 1' keyValue='0 1 0 0, 0 1 0 3.14, 0 1 0 6.28'></OrientationInterpolator>
    <ROUTE fromNode='TIMER' fromField='fraction_changed' toNode='OI' toField='set_fraction'></ROUTE>
    <ROUTE fromNode='OI' fromField='value_changed' toNode='wand' toField='rotation'></ROUTE>

    <!-- 花畑 -->
    <TimeSensor id="wandFlowerAnim" DEF='TIMER' cycleInterval='5' loop='false'></TimeSensor>
    <OrientationInterpolator id="wandFlowerOI" DEF='OI' key='0 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 1' keyValue='0 1 0 0, 0 1 0 3, 0 1 0 6, 0 1 0 9, 0 1 0 12, 0 1 0 15, 0 1 0 18, 0 1 0 21, 0 1 0 24, 0 1 0 27, 0 1 0 30'></OrientationInterpolator>
    <ROUTE fromNode='TIMER' fromField='fraction_changed' toNode='OI' toField='set_fraction'></ROUTE>
    <ROUTE fromNode='OI' fromField='value_changed' toNode='wand' toField='rotation'></ROUTE>

    <!-- ゾルトラーク -->
    <TimeSensor id="wandZoltAnim" DEF='TIMER' cycleInterval='10' loop='false'></TimeSensor>
    <OrientationInterpolator id="wandZoltOI" DEF='OI' key='0 0.1 0.9 1' keyValue='0 0 1 0, 0 0 1 -1.57, 0 0 1 -1.57, 0 0 1 0'></OrientationInterpolator>
    <ROUTE fromNode='TIMER' fromField='fraction_changed' toNode='OI' toField='set_fraction'></ROUTE>
    <ROUTE fromNode='OI' fromField='value_changed' toNode='wand' toField='rotation'></ROUTE>

    
    <!-- 魔法アニメーション -->
    <!-- 花畑 -->
    <TimeSensor id="flowerGardenAnim" DEF='TIMER' cycleInterval='5' loop='false'></TimeSensor>
    <PositionInterpolator id="flowerGardenPI" DEF='PI' key='0 0.3 0.31 0.99 1' keyValue='-8 -8 -8, -8 -8 -8, -8 -6 -8, -8 -6 -8, -8 -8 -8'></PositionInterpolator>
    <ROUTE fromNode='TIMER' fromField='fraction_changed' toNode='PI' toField='set_fraction'></ROUTE>
    <ROUTE fromNode='PI' fromField='value_changed' toNode='flowerGarden' toField='translation'></ROUTE>

    <!-- 魔法陣回転 -->
    <TimeSensor DEF='TIMER' cycleInterval='10' loop='true'></TimeSensor>
    <OrientationInterpolator DEF='OI' key='0 0.5 1' keyValue='0 1 0 0, 0 1 0 3.14, 0 1 0 6.28'></OrientationInterpolator>
    <ROUTE fromNode='TIMER' fromField='fraction_changed' toNode='OI' toField='set_fraction'></ROUTE>
    <ROUTE fromNode='OI' fromField='value_changed' toNode='magicCircle' toField='rotation'></ROUTE>

    <!-- 魔法陣サイズ変化 -->
    <TimeSensor id="circleSizeAnim" DEF='TIMER' cycleInterval='10' loop='false'></TimeSensor>
    <PositionInterpolator id="circleSizePI" DEF='PI' key='0 0.1 0.15 0.9 1' keyValue='0.0005 1 0.0005, 0.0005 1 0.0005, 0.5 1 0.5, 0.5 1 0.5, 0.0005 1 0.0005'></PositionInterpolator>
    <ROUTE fromNode='TIMER' fromField='fraction_changed' toNode='PI' toField='set_fraction'></ROUTE>
    <ROUTE fromNode='PI' fromField='value_changed' toNode='zoltraak' toField='scale'></ROUTE>

    <!-- ビーム(内側) -->
    <TimeSensor id="beam2Anim" DEF='TIMER' cycleInterval='10' loop='false'></TimeSensor>
    <PositionInterpolator id="beam2PI" DEF='PI' 
    key='0 0.2 0.21 0.3 0.31 0.33 0.35 0.375 0.4 0.425 0.45 0.475 0.5 0.525 0.55 0.575 0.6 0.625 0.65 0.675 0.7 0.725 0.75 0.775 0.8 0.825 0.85 0.9 1' 
    keyValue='0.0005 1 0.0005, 0.0005 1 0.0005, 0.05 1 0.05, 0.05 1 0.05, 5 1 5, 4 1 4, 5 1 5, 4 1 4, 5 1 5, 4 1 4, 5 1 5, 4 1 4, 5 1 5, 4 1 4, 5 1 5, 4 1 4, 5 1 5, 4 1 4, 5 1 5, 4 1 4, 5 1 5, 4 1 4, 5 1 5, 4 1 4, 5 1 5, 4 1 4, 5 1 5, 4 1 4, 0.0005 1 0.0005'></PositionInterpolator>
    <ROUTE fromNode='TIMER' fromField='fraction_changed' toNode='PI' toField='set_fraction'></ROUTE>
    <ROUTE fromNode='PI' fromField='value_changed' toNode='beam2' toField='scale'></ROUTE>

    <!-- ビーム(外側) -->
    <TimeSensor id="beam1Anim" DEF='TIMER' cycleInterval='10' loop='false'></TimeSensor>
    <PositionInterpolator id="beam1PI" DEF='PI' 
    key='0 0.2 0.21 0.3 0.31 0.33 0.35 0.375 0.4 0.425 0.45 0.475 0.5 0.525 0.55 0.575 0.6 0.625 0.65 0.675 0.7 0.725 0.75 0.775 0.8 0.825 0.85 0.9 1' 
    keyValue='0.0005 1 0.0005, 0.0005 1 0.0005, 0.1 1 0.1, 0.1 1 0.1, 7 1 7, 5 1 5, 7 1 7, 5 1 5, 7 1 7, 5 1 5, 7 1 7, 5 1 5, 7 1 7, 5 1 5, 7 1 7, 5 1 5, 7 1 7, 5 1 5, 7 1 7, 5 1 5, 7 1 7, 5 1 5, 7 1 7, 5 1 5, 7 1 7, 5 1 5, 7 1 7, 5 1 5, 0.0005 1 0.0005'></PositionInterpolator>
    <ROUTE fromNode='TIMER' fromField='fraction_changed' toNode='PI' toField='set_fraction'></ROUTE>
    <ROUTE fromNode='PI' fromField='value_changed' toNode='beam1' toField='scale'></ROUTE>

    <!-- ビーム外側点滅 -->
    <TimeSensor id="beamFlashAnim" DEF='TIMER' cycleInterval='10' loop='false'></TimeSensor>
    <ScalarInterpolator DEF='beamFlashSI' 
    key='0 0.2 0.205 0.21 0.215 0.22 0.225 0.23 0.235 0.24 0.245 0.25 0.255 0.26 0.265 0.27 0.275 0.28 0.285 0.29 0.295 0.3 1' 
    keyValue='1, 1, 0.2, 1, 0.2, 1, 0.2, 1, 0.2, 1, 0.2, 1, 0.2, 1, 0.2, 1, 0.2, 1, 0.2, 1, 0.2, 0.5, 0.5'></ScalarInterpolator>
    <ROUTE fromNode='TIMER' fromField='fraction_changed' toNode='beamFlashSI' toField='set_fraction'></ROUTE>
    <ROUTE fromNode='beamFlashSI' fromField='value_changed' toNode='beamFlash' toField='transparency'></ROUTE>


  </transform>



    </scene>
    </x3d>
    <script>
        var pos;
        var rot;
        var viewFunc = function(evt) {
        	pos = evt.position;
        	rot = evt.orientation;
            text = '&lt;viewpoint id="name_view" description="name" position="' + 
                                Math.round(pos.x*1000000.0)/1000000.0 +' '+Math.round(pos.y*1000000.0)/1000000.0+' '+Math.round(pos.z*1000000.0)/1000000.0 +
								'" orientation="' + Math.round(rot[0].x*1000000.0)/1000000.0+' '+Math.round(rot[0].y*1000000.0)/1000000.0+' '+Math.round(rot[0].z*1000000.0)/1000000.0+' '+Math.round(rot[1]*1000000.0)/1000000.0+'"&gt;&lt;/viewpoint&gt;';
            document.getElementById("str").innerHTML=text;
        };

        function addIt() {
            var scene = document.getElementById('scene');
            for (var i = 0; i < scene.children.length; i++) {
                if (scene.children[i].nodeName == "VIEWPOINT") {
                    //x3dom.debug.logInfo(scene.children[i].nodeName);
                    scene.children[i].addEventListener('viewpointChanged', viewFunc, false);
                }
            }
        }

        document.onload = addIt;

        function showViewpoint() {
			x3dom.debug.logInfo('position: ' + pos.x+' '+pos.y+' '+pos.z +'\n' +
								'orientation: ' + rot[0].x+' '+rot[0].y+' '+rot[0].z+' '+rot[1]);
        }

        function flower() {
            var wf = document.getElementById('wandFlowerAnim');
            wf.setAttribute('loop','false');
            var oi = document.getElementById('wandFlowerOI');
            oi.setAttribute('key','0 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 1');
            oi.setAttribute('keyValue','0 1 0 0, 0 1 0 3, 0 1 0 6, 0 1 0 9, 0 1 0 12, 0 1 0 15, 0 1 0 18, 0 1 0 21, 0 1 0 24, 0 1 0 27, 0 1 0 30');

            var fg = document.getElementById('flowerGardenAnim');
            fg.setAttribute('loop','false');
            var oi = document.getElementById('flowerGardenPI');
            oi.setAttribute('key','0 0.3 0.31 0.99 1');
            oi.setAttribute('keyValue','-8 -8 -8, -8 -8 -8, -8 -6 -8, -8 -6 -8, -8 -8 -8');
        }

        function zolt() {
          var wz = document.getElementById('wandZoltAnim');
          wz.setAttribute('loop','false');
          var oi = document.getElementById('wandZoltOI');
          oi.setAttribute('key','0 0.1 0.9 1');
          oi.setAttribute('keyValue','0 0 1 0, 0 0 1 -1.57, 0 0 1 -1.57, 0 0 1 0');

          var cs = document.getElementById('circleSizeAnim');
          cs.setAttribute('loop','false');
          var oi = document.getElementById('circleSizePI');
          oi.setAttribute('key','0 0.1 0.15 0.9 1');
          oi.setAttribute('keyValue','0.0005 1 0.0005, 0.0005 1 0.0005, 0.5 1 0.5, 0.5 1 0.5, 0.0005 1 0.0005');

          var b2 = document.getElementById('beam2Anim');
          b2.setAttribute('loop','false');
          var oi = document.getElementById('beam2PI');
          oi.setAttribute('key','0 0.2 0.21 0.3 0.31 0.33 0.35 0.375 0.4 0.425 0.45 0.475 0.5 0.525 0.55 0.575 0.6 0.625 0.65 0.675 0.7 0.725 0.75 0.775 0.8 0.825 0.85 0.9 1');
          oi.setAttribute('keyValue','0.0005 1 0.0005, 0.0005 1 0.0005, 0.05 1 0.05, 0.05 1 0.05, 5 1 5, 4 1 4, 5 1 5, 4 1 4, 5 1 5, 4 1 4, 5 1 5, 4 1 4, 5 1 5, 4 1 4, 5 1 5, 4 1 4, 5 1 5, 4 1 4, 5 1 5, 4 1 4, 5 1 5, 4 1 4, 5 1 5, 4 1 4, 5 1 5, 4 1 4, 5 1 5, 4 1 4, 0.0005 1 0.0005');

          var b1 = document.getElementById('beam1Anim');
          b1.setAttribute('loop','false');
          var oi = document.getElementById('beam1PI');
          oi.setAttribute('key','0 0.2 0.21 0.3 0.31 0.33 0.35 0.375 0.4 0.425 0.45 0.475 0.5 0.525 0.55 0.575 0.6 0.625 0.65 0.675 0.7 0.725 0.75 0.775 0.8 0.825 0.85 0.9 1');
          oi.setAttribute('keyValue','0.0005 1 0.0005, 0.0005 1 0.0005, 0.1 1 0.1, 0.1 1 0.1, 7 1 7, 5 1 5, 7 1 7, 5 1 5, 7 1 7, 5 1 5, 7 1 7, 5 1 5, 7 1 7, 5 1 5, 7 1 7, 5 1 5, 7 1 7, 5 1 5, 7 1 7, 5 1 5, 7 1 7, 5 1 5, 7 1 7, 5 1 5, 7 1 7, 5 1 5, 7 1 7, 5 1 5, 0.0005 1 0.0005');

          var bf = document.getElementById('beamFlashAnim');
          bf.setAttribute('loop','false');
          var oi = document.getElementById('beamFlashSI');
          oi.setAttribute('key','0 0.2 0.205 0.21 0.215 0.22 0.225 0.23 0.235 0.24 0.245 0.25 0.255 0.26 0.265 0.27 0.275 0.28 0.285 0.29 0.295 0.3 1');
          oi.setAttribute('keyValue','1, 1, 0.2, 1, 0.2, 1, 0.2, 1, 0.2, 1, 0.2, 1, 0.2, 1, 0.2, 1, 0.2, 1, 0.2, 1, 0.2, 0.5, 0.5');
        }
    </script>
  </body>
</html>